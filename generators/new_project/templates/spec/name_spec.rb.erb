require "spec_helper"

describe <%= name.capitalize %> do
  let(:browser) { WatirSession.browser }

  it "starts a driver" do
    expect(browser.window).to exist
  end

  it "submits a search" do
    WatirDrops::PageObject.browser = Watir::Browser.new

    search_data = <%= name.capitalize %>::Model::Search.new
    search_page = <%= name.capitalize %>::Home.visit
    search_page.search(search_data)

    expect(<%= name.capitalize %>::Results.new.first_result).to include search_data.first_result
  end
end
